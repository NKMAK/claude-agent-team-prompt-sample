# アーキテクチャ設計: [機能名]

**作成日時**: YYYY-MM-DD HH:mm
**作成者**: Architect Agent
**プランドキュメント**: [リンク]
**ステータス**: Draft / Under Review / Approved

---

## 概要

[アーキテクチャの簡潔な説明]

---

## ファイル構成

### 新規作成するファイル

```
[フォルダ名]/
├── [new_file_1.py]    # [役割]
├── [new_file_2.py]    # [役割]
└── [new_file_3.tsx]   # [役割]
```

### 修正するファイル

- `path/to/existing_file.py` - [修正内容]
- `path/to/another_file.ts` - [修正内容]

---

## 各ファイルの機能定義

### `path/to/new_file_1.py`

**役割**: [このファイルの単一の責任]

**実装する処理**:
- [処理1の説明]
- [処理2の説明]
- [処理3の説明]

---

### `path/to/new_file_2.tsx`

**役割**: [このファイルの単一の責任]

**実装する処理**:
- [処理1の説明]
- [処理2の説明]

---

## ファイル間の依存関係

```
[new_file_1.py]
    ↓ インポート
[new_file_2.ts]
    ↓ 使用
[new_file_3.tsx]
```

**データの流れ**:

1. [new_file_1.py] でビジネスロジックを処理
2. [new_file_2.ts] でAPIとして公開
3. [new_file_3.tsx] でUIに表示

---

## API設計（該当する場合）

### エンドポイント: `POST /api/[endpoint]`

**リクエスト**:

| フィールド | 型 | 必須 | 説明 |
|-----------|-----|------|------|
| field1 | string | 必須 | [説明]（最大100文字） |
| field2 | number | 必須 | [説明]（0以上） |

**レスポンス**:

| フィールド | 型 | 説明 |
|-----------|-----|------|
| success | boolean | 処理成功フラグ |
| data.id | string | 作成されたリソースID |
| data.field1 | string | [説明] |

---

## データベース設計（該当する場合）

### テーブル: `table_name`

| カラム | 型 | 制約 | 説明 |
|-------|-----|------|------|
| id | UUID | PRIMARY KEY | 一意識別子 |
| field1 | VARCHAR(100) | NOT NULL | [説明] |
| field2 | INTEGER | NOT NULL | [説明] |
| created_at | TIMESTAMP | DEFAULT NOW() | 作成日時 |

**インデックス**:
- `idx_table_field1`: field1 の検索高速化

---

## 設計の根拠

### なぜこのファイル構成を選択したか

- [理由1]: 既存の[類似機能]と同じパターンを採用
- [理由2]: 1ファイル1責任を守るため、[機能A]と[機能B]を分離

### 既存パターンとの整合性

- [既存機能へのパス]と同様の構成を採用

---

## セキュリティ考慮（該当する場合）

- **入力バリデーション**: すべての入力を検証する
- **認証・認可**: [具体的な方法]
- **SQLインジェクション対策**: パラメータ化クエリを使用

---

## パフォーマンス考慮（該当する場合）

- **目標応答時間**: [XX]秒以内
- **最適化ポイント**: [具体的な方法]

---

## テスト戦略

### 単体テスト

- [new_file_1.py] の各関数を独立してテスト

### 統合テスト

- API全体の動作をテスト

---

## 備考

- [その他の重要な情報]
