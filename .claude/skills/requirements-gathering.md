# Skill: 要件定義

このスキルは、ユーザーの要望から明確で実装可能な要件ドキュメントを作成するためのガイドです。

## いつ使うか

- 新しい機能の実装を依頼されたとき
- 要件が曖昧で整理が必要なとき
- チームメイトに要件情報を提供する必要があるとき

## ヒアリングの進め方

### 機能要件を明確にする質問

- この機能は誰が使うか？（エンドユーザー/開発者/管理者）
- どのような状況で使われるか？
- 入力は何か？期待される出力は？
- エラー時の挙動はどうあるべきか？
- 既存の機能と競合しないか？

### 非機能要件を明確にする質問

- パフォーマンス要件はあるか？（応答時間、スループット）
- セキュリティ要件はあるか？
- データベース変更は必要か？
- API変更は必要か？

### 曖昧さを排除する

- 不明確な要件について必ず質問する
- 用語の定義を確認する
- 境界条件を明確化する
- エッジケースを特定する

## 既存システムの調査

要件定義の前に、以下を確認する：
- コードベースの既存パターン（Glob, Grep, Readで調査）
- 既存の類似機能
- 影響範囲

## 成果物フォーマット

以下のMarkdownフォーマットで `requirement-doc.md` を出力する：

```markdown
# 要件ドキュメント: [機能名]

## 概要
[機能の簡潔な説明（2-3文）]

## 背景と目的
- なぜこの機能が必要か？
- どのような課題を解決するか？
- 成功の指標

## 機能要件

### FR-1: [要件名]
- **説明**: [詳細]
- **優先度**: High / Medium / Low
- **ユースケース**: ユーザーが[アクション]すると、システムは[動作]を行う
- **受け入れ基準**:
  - [ ] [測定可能な条件]

## 非機能要件
- パフォーマンス: [具体的な数値]
- セキュリティ: [具体的な要件]

## ユースケース
As a [ユーザータイプ], I want to [やりたいこと], So that [目的].

## 既存システムとの関係
- 影響を受けるコンポーネント
- 類似機能との関係

## 制約事項
- 技術的制約
- ビジネス的制約

## 未解決の質問
- [回答が必要な質問]
```

## チェックリスト

成果物を出す前に確認：
- [ ] ユーザーのゴールを理解しているか？
- [ ] 曖昧な表現は残っていないか？
- [ ] エッジケースを特定したか？
- [ ] 既存システムへの影響を把握したか？
- [ ] 他の作業者が作業できる十分な情報があるか？
